@using RaceDayDisplayApp.Models
@using MvcJqGrid

@{
    Layout = null;
}

@model Race

@Html.HiddenFor(m => m.RaceId)

<div id="raceStatus"></div>

@(Html.Grid("race_grid")
.SetDataType(MvcJqGrid.Enums.DataType.Json)
.SetHeaderTitles(true)
.OnAfterInsertRow("gridAfterInsertRow(rowid,rowdata,rowelem)")
.OnGridComplete("hideColumnsFirstTime()")
.SetAltRows(true)
.SetAltClass("alt_rows")
.AddColumns(ViewBag.GridColumns)
.SetUrl(Url.Action("GridData", "Meetings", new { id = Model.RaceId }))
//.SetUrl("Meetings/GridData/" + Model.RaceId + "?isStarted='+$('#isStarted').val()+'&isDone='+$('#isDone').val()+'")
.SetAutoWidth(true)
.SetLoadUi(MvcJqGrid.Enums.LoadUi.Block)
.SetViewRecords(true)
.SetEmptyRecords("No Runners Found")
.SetShowAllSortIcons(true)
.SetShrinkToFit(true))

<div id="refreshInfo"></div>